<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tezznirman construction delivery platform â€” every material, at your site, in under 60 minutes.</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --blue: #1D4ED8;
  --blue-light: #2563EB;
  --blue-pale: #EFF6FF;
  --text: #0F172A;
  --text-mid: #4A5568;
  --text-light: #8A94A6;
  --white: #FFFFFF;
  --off-white: #F8FAFC;
  --border: #E2E8F0;
  --border-warm: #DBEAFE;
}

html, body {
  width: 100%;
  background: var(--white);
  font-family: 'Outfit', sans-serif;
  color: var(--text);
  -webkit-font-smoothing: antialiased;
}

body::before {
  content: '';
  position: fixed; inset: 0;
  pointer-events: none; z-index: 200; opacity: 0.025;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

/* â”€â”€ LAYOUT â”€â”€ */
.page {
  width: 100%;
}

/* â”€â”€ HEADER â”€â”€ */
.header {
  padding: 20px 20px 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  animation: fadeSlideDown 0.8s cubic-bezier(0.22,1,0.36,1) 0.1s both;
}

.logo { display: flex; align-items: center; gap: 10px; }

.logo-mark {
  width: 36px; height: 36px; background: var(--blue);
  display: flex; align-items: center; justify-content: center;
  clip-path: polygon(0 0, 80% 0, 100% 20%, 100% 100%, 20% 100%, 0 80%);
  flex-shrink: 0;
}
.logo-mark svg { width: 18px; height: 18px; fill: white; }

.logo-text {
  font-family: 'Outfit'; font-weight: 600;
  font-size: 16px; letter-spacing: 0.08em;
  color: var(--text); text-transform: uppercase;
}
.logo-text span { color: var(--blue); }

.status-tag {
  display: flex; align-items: center; gap: 6px;
  padding: 5px 12px;
  border: 1px solid var(--border-warm); background: var(--blue-pale);
  font-size: 10px; font-weight: 500; letter-spacing: 0.06em;
  color: var(--blue); text-transform: uppercase;
  white-space: nowrap; flex-shrink: 0;
}

.pulse-dot {
  width: 6px; height: 6px; border-radius: 50%; background: var(--blue);
  animation: pulseDot 2s ease-in-out infinite;
}
@keyframes pulseDot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50%       { opacity: 0.5; transform: scale(0.7); }
}

/* â”€â”€ CONTENT â”€â”€ */
.content {
  padding: 32px 20px 24px;
}

.pre-label {
  font-size: 10px; font-weight: 500;
  letter-spacing: 0.12em; text-transform: uppercase;
  color: var(--blue); margin-bottom: 16px;
  display: flex; align-items: center; gap: 8px;
  animation: fadeSlideUp 0.7s cubic-bezier(0.22,1,0.36,1) 0.3s both;
}
.pre-label::before {
  content: ''; width: 20px; height: 1.5px;
  background: var(--blue); display: block; flex-shrink: 0;
}

h1 {
  font-family: 'Playfair Display';
  font-size: clamp(30px, 7vw, 56px);
  font-weight: 900; line-height: 1.05; color: var(--text);
  margin-bottom: 14px;
  animation: fadeSlideUp 0.8s cubic-bezier(0.22,1,0.36,1) 0.45s both;
}
h1 .accent { color: var(--blue); font-style: italic; }

.sub-headline {
  font-size: 15px; font-weight: 300;
  color: var(--text-mid); line-height: 1.7;
  margin-bottom: 28px;
  animation: fadeSlideUp 0.8s cubic-bezier(0.22,1,0.36,1) 0.6s both;
}

/* â”€â”€ USP BLOCK â”€â”€ */
.usp-block {
  display: flex; align-items: stretch;
  margin-bottom: 24px;
  border: 1.5px solid var(--border); overflow: hidden;
  animation: fadeSlideUp 0.8s cubic-bezier(0.22,1,0.36,1) 0.65s both;
}

.usp-timer {
  background: var(--blue);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  padding: 16px 20px; min-width: 88px;
  position: relative; overflow: hidden; flex-shrink: 0;
}
.usp-timer::after {
  content: ''; position: absolute; inset: 0;
  background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 60%);
}
.usp-number {
  font-family: 'Playfair Display';
  font-size: 36px; font-weight: 900; color: white;
  line-height: 1; position: relative; z-index: 1;
  animation: usp60 2.5s ease-in-out infinite;
}
@keyframes usp60 {
  0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); }
}
.usp-unit {
  font-size: 9px; font-weight: 600; letter-spacing: 0.14em;
  text-transform: uppercase; color: rgba(255,255,255,0.85);
  position: relative; z-index: 1; margin-top: 2px;
}

.usp-details {
  flex: 1; background: var(--off-white);
  padding: 14px 18px;
  display: flex; flex-direction: column; justify-content: center; gap: 4px;
  border-left: 1.5px solid var(--border);
}
.usp-headline { font-size: 12px; font-weight: 700; color: var(--text); line-height: 1.3; }
.usp-checks { display: flex; flex-direction: column; gap: 5px; margin-top: 5px; }
.usp-check {
  display: flex; align-items: center; gap: 7px;
  font-size: 11.5px; color: var(--text-mid);
}
.check-icon {
  width: 15px; height: 15px; border-radius: 50%; background: var(--blue);
  flex-shrink: 0; display: flex; align-items: center; justify-content: center;
}
.check-icon svg { width: 8px; height: 8px; }

/* â”€â”€ PILLS â”€â”€ */
.material-pills {
  display: flex; flex-wrap: wrap; gap: 8px;
  margin-bottom: 28px;
  animation: fadeSlideUp 0.8s cubic-bezier(0.22,1,0.36,1) 0.72s both;
}
.pill {
  display: flex; align-items: center; gap: 5px;
  padding: 6px 13px;
  border: 1px solid var(--border); background: var(--off-white);
  font-size: 12px; font-weight: 500; color: var(--text-mid);
  transition: all 0.25s ease; cursor: default;
}
.pill:hover { border-color: var(--blue); color: var(--blue); background: var(--blue-pale); }
.pill .icon { font-size: 13px; }

/* â”€â”€ FORM â”€â”€ */
.form-wrap {
  animation: fadeSlideUp 0.8s cubic-bezier(0.22,1,0.36,1) 0.85s both;
}
.form-label {
  font-size: 11px; font-weight: 500; color: var(--text-light);
  letter-spacing: 0.05em; text-transform: uppercase; margin-bottom: 8px;
}
.input-row {
  display: flex; border: 1.5px solid var(--border);
  overflow: hidden; transition: border-color 0.3s;
}
.input-row:focus-within { border-color: var(--blue); }
.email-input {
  flex: 1; min-width: 0; background: transparent; border: none;
  padding: 13px 16px; font-family: 'Outfit'; font-size: 14px;
  color: var(--text); outline: none;
}
.email-input::placeholder { color: var(--text-light); }
.submit-btn {
  background: var(--blue); border: none;
  padding: 13px 22px; font-family: 'Outfit';
  font-size: 12px; font-weight: 600; letter-spacing: 0.06em;
  text-transform: uppercase; color: white; cursor: pointer;
  transition: background 0.25s; white-space: nowrap; flex-shrink: 0;
}
.submit-btn:hover { background: var(--blue-light); }
.submit-btn:disabled { opacity: 0.6; cursor: not-allowed; }
.form-note { font-size: 11px; color: var(--text-light); margin-top: 8px; }
.success-msg {
  display: none; align-items: center; gap: 8px;
  padding: 11px 14px; background: var(--blue-pale);
  border: 1px solid var(--border-warm);
  font-size: 12px; color: var(--blue); font-weight: 500; margin-top: 8px;
}

/* â”€â”€ TICKER â”€â”€ */
.ticker-wrap {
  overflow: hidden;
  border-top: 1px solid var(--border); border-bottom: 1px solid var(--border);
  padding: 9px 0; margin-top: 28px;
}
.ticker-track {
  display: inline-flex; white-space: nowrap;
  animation: tickerScroll 28s linear infinite;
}
@keyframes tickerScroll {
  from { transform: translateX(0); } to { transform: translateX(-50%); }
}
.ticker-item {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 0 24px; font-size: 10px; font-weight: 500;
  color: var(--text-light); letter-spacing: 0.06em; text-transform: uppercase;
}
.ticker-item .t-sep { color: var(--blue); margin: 0 4px; }

/* â”€â”€ FOOTER â”€â”€ */
.left-footer {
  padding: 16px 20px;
  display: flex; align-items: center;
  justify-content: space-between; flex-wrap: wrap; gap: 8px;
  border-top: 1px solid var(--border);
}
.footer-copy { font-size: 10px; color: var(--text-light); letter-spacing: 0.04em; }
.footer-links { display: flex; gap: 16px; }
.footer-links a {
  font-size: 10px; color: var(--text-light);
  text-decoration: none; letter-spacing: 0.04em; transition: color 0.2s;
}
.footer-links a:hover { color: var(--blue); }

/* â”€â”€ TYPEWRITER â”€â”€ */
.typewriter-line { min-height: 22px; display: inline-block; }
.tw-cursor {
  display: inline-block; width: 2px; height: 1.1em;
  background: var(--blue); margin-left: 1px; vertical-align: middle;
  animation: twBlink 0.85s step-end infinite;
}
@keyframes twBlink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

/* â”€â”€ ANIMATIONS â”€â”€ */
@keyframes fadeSlideUp {
  from { transform: translateY(20px); opacity: 0; }
  to   { transform: translateY(0); opacity: 1; }
}
@keyframes fadeSlideDown {
  from { transform: translateY(-16px); opacity: 0; }
  to   { transform: translateY(0); opacity: 1; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DESKTOP â‰¥ 768px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (min-width: 768px) {
  .header {
    padding: 36px 48px 0;
  }
  .content {
    padding: 48px 48px 32px;
    max-width: 760px;
  }
  h1 { font-size: clamp(38px, 4vw, 56px); }
  .sub-headline { font-size: 16px; max-width: 560px; margin-bottom: 32px; }
  .usp-block { max-width: 560px; }
  .usp-headline { font-size: 13px; }
  .usp-number { font-size: 42px; }
  .usp-timer { padding: 18px 24px; min-width: 100px; }
  .usp-details { padding: 16px 22px; }
  .input-row { max-width: 520px; }
  .success-msg { max-width: 520px; }
  .left-footer { padding: 20px 48px; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LARGE DESKTOP â‰¥ 1200px
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (min-width: 1200px) {
  .header { padding: 40px 80px 0; }
  .content { padding: 56px 80px 36px; max-width: 900px; }
  .left-footer { padding: 24px 80px; }
}
</style>
</head>
<body>

<div class="page">

  <!-- â•â•â• LEFT PANEL (white content) â•â•â• -->
  <div class="left">

    <div class="header">
      <div class="logo">
        <div class="logo-mark">
          <svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>
        </div>
        <div class="logo-text">Tezz<span>nirman</span></div>
      </div>
      <div class="status-tag">
        <div class="pulse-dot"></div>
        Coming Soon
      </div>
    </div>

    <div class="content">

      <div class="pre-label">ğŸ‡®ğŸ‡³ &nbsp;Made in India Â· Built for Builders</div>

      <h1>
        Construction Never<br>
        <span class="accent">Waits. Neither Do We.</span>
      </h1>

      <p class="sub-headline">
        India ka pehla on-demand construction delivery platform â€” every material, at your site, in under 60 minutes.
      </p>

      <div class="usp-block">
        <div class="usp-timer">
          <div class="usp-number">&lt;60</div>
          <div class="usp-unit">Minutes</div>
        </div>
        <div class="usp-details">
          <div class="usp-headline">Delivered to your construction site</div>
          <div class="usp-checks">
            <div class="usp-check">
              <div class="check-icon"><svg viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5 4-4" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              Order via App or WhatsApp
            </div>
            <div class="usp-check">
              <div class="check-icon"><svg viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5 4-4" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              Real-time delivery tracking
            </div>
            <div class="usp-check">
              <div class="check-icon"><svg viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5 4-4" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              All materials. One platform.
            </div>
          </div>
        </div>
      </div>

      <div class="material-pills">
        <div class="pill"><span class="icon">ğŸ›ï¸</span> Cement</div>
        <div class="pill"><span class="icon">âš™ï¸</span> Steel & Rods</div>
        <div class="pill"><span class="icon">ğŸ§±</span> Bricks</div>
        <div class="pill"><span class="icon">ğŸªŸ</span> Tiles</div>
        <div class="pill"><span class="icon">ğŸ¨</span> Paint</div>
        <div class="pill"><span class="icon">âš¡</span> Electrical</div>
        <div class="pill"><span class="icon">ğŸª£</span> Sand</div>
      </div>

      <div class="form-wrap">
        <div class="form-label">Get early access</div>
        <div class="input-row">
          <input class="email-input" type="email" id="emailIn" placeholder="Enter your email address">
          <button class="submit-btn" onclick="handleSubmit()">Notify Me</button>
        </div>
        <p class="form-note">We'll notify you the moment we launch. No spam.</p>
        <div class="success-msg" id="successMsg">
          âœ“ &nbsp;You're on the list. We'll reach out first.
        </div>
      </div>

    </div>

    <div class="ticker-wrap">
      <div class="ticker-track" id="ticker"></div>
    </div>

    <div class="left-footer">
      <div class="footer-copy">Â© 2025 Tezznirman Â· <em style="font-style:normal;color:var(--blue);">Har site ka bharosa.</em></div>
      <div class="footer-links">
        <a href="#">Instagram</a>
        <a href="#">LinkedIn</a>
        <a href="#">WhatsApp</a>
      </div>
    </div>

  </div>

</div>

<script>
// â”€â”€ COUNTDOWN â”€â”€
const launch = new Date();
launch.setDate(launch.getDate() + 47);
launch.setHours(0,0,0,0);

function pad(n){ return String(n).padStart(2,'0'); }

function tick(){
  const diff = launch - new Date();
  if(diff <= 0) return;
  const vals = [
    Math.floor(diff/86400000),
    Math.floor((diff%86400000)/3600000),
    Math.floor((diff%3600000)/60000),
    Math.floor((diff%60000)/1000)
  ];
  ['d','h','m','s'].forEach((id, i) => {
    const el = document.getElementById(id);
    const v = pad(vals[i]);
    if(el.textContent !== v){
      el.textContent = v;
      el.classList.remove('tick');
      void el.offsetWidth;
      el.classList.add('tick');
    }
  });
}
tick(); setInterval(tick, 1000);

// â”€â”€ TICKER â”€â”€
const items = [
  'ğŸ›ï¸ Cement Bags','âš™ï¸ Steel Rods','ğŸ§± Bricks','ğŸªŸ Floor Tiles','ğŸ¨ Interior Paint',
  'âš¡ Electrical Wires','ğŸª£ River Sand','ğŸ’¡ Switches & Sockets','ğŸªŸ Wall Tiles',
  'ğŸ¨ Exterior Paint','ğŸ”Œ MCB & DB','ğŸ”© Binding Wire','ğŸ¨ Primer & Putty',
];

const t = document.getElementById('ticker');
const doubled = [...items,...items,...items,...items];
doubled.forEach(item => {
  const div = document.createElement('div');
  div.className = 'ticker-item';
  div.innerHTML = item + '<span class="t-sep">Â·</span>';
  t.appendChild(div);
});

// â”€â”€ EMAIL SUBMIT â”€â”€
async function handleSubmit(){
  const emailVal = document.getElementById('emailIn').value.trim();
  const s = document.getElementById('successMsg');
  const row = document.querySelector('.input-row');
  const btn = document.querySelector('.submit-btn');

  if(!emailVal || !emailVal.includes('@') || !emailVal.includes('.')){
    row.style.borderColor = '#EF4444';
    setTimeout(() => row.style.borderColor = '', 1200);
    return;
  }

  btn.textContent = '...';
  btn.disabled = true;

  try {
    // Load existing signups
    let signups = [];
    try {
      const existing = await window.storage.get('signups');
      signups = existing ? JSON.parse(existing.value) : [];
    } catch(e) { signups = []; }

    // Check duplicate
    if(signups.some(s => s.email === emailVal)){
      s.innerHTML = 'âœ“ &nbsp;You\'re already on the list!';
      s.style.display = 'flex';
      btn.textContent = 'Notify Me';
      btn.disabled = false;
      return;
    }

    // Save new signup
    signups.push({ email: emailVal, date: new Date().toISOString() });
    await window.storage.set('signups', JSON.stringify(signups));

    s.innerHTML = 'âœ“ &nbsp;You\'re on the list. We\'ll reach out first.';
    s.style.display = 'flex';
    document.querySelector('.form-label').style.opacity = '0.4';
    row.style.opacity = '0.4';
    row.style.pointerEvents = 'none';
    document.getElementById('emailIn').value = '';
  } catch(err) {
    btn.textContent = 'Notify Me';
    btn.disabled = false;
    row.style.borderColor = '#EF4444';
    setTimeout(() => row.style.borderColor = '', 1200);
  }
}

// â”€â”€ ADMIN PANEL (visit page#admin to view) â”€â”€
const ADMIN_STYLES = `
  #adminPanel {
    position: fixed; inset: 0; z-index: 9999;
    background: #0F172A; color: #E2E8F0;
    font-family: 'Outfit', sans-serif;
    display: flex; flex-direction: column;
    overflow: hidden;
  }
  #adminPanel .ap-header {
    padding: 24px 32px;
    border-bottom: 1px solid #1E293B;
    display: flex; align-items: center; justify-content: space-between;
  }
  #adminPanel .ap-title {
    font-size: 18px; font-weight: 600; letter-spacing: 0.04em;
  }
  #adminPanel .ap-title span { color: #1D4ED8; }
  #adminPanel .ap-close {
    background: #1E293B; border: none; color: #94A3B8;
    padding: 8px 16px; cursor: pointer; font-family: 'Outfit';
    font-size: 12px; letter-spacing: 0.06em; text-transform: uppercase;
    transition: background 0.2s;
  }
  #adminPanel .ap-close:hover { background: #334155; color: #E2E8F0; }
  #adminPanel .ap-stats {
    padding: 20px 32px;
    display: flex; gap: 20px; flex-wrap: wrap;
    border-bottom: 1px solid #1E293B;
  }
  #adminPanel .ap-stat {
    background: #1E293B; padding: 14px 24px;
    display: flex; flex-direction: column; gap: 4px;
  }
  #adminPanel .ap-stat-num {
    font-family: 'Playfair Display'; font-size: 32px; font-weight: 700; color: #1D4ED8;
  }
  #adminPanel .ap-stat-label {
    font-size: 10px; color: #64748B; letter-spacing: 0.1em; text-transform: uppercase;
  }
  #adminPanel .ap-actions {
    padding: 16px 32px;
    display: flex; gap: 10px; align-items: center;
    border-bottom: 1px solid #1E293B;
  }
  #adminPanel .ap-btn {
    background: #1D4ED8; border: none; color: white;
    padding: 8px 18px; cursor: pointer; font-family: 'Outfit';
    font-size: 12px; font-weight: 600; letter-spacing: 0.06em; text-transform: uppercase;
    transition: background 0.2s;
  }
  #adminPanel .ap-btn:hover { background: #2563EB; }
  #adminPanel .ap-btn.secondary {
    background: #1E293B; color: #94A3B8;
  }
  #adminPanel .ap-btn.secondary:hover { background: #334155; color: #E2E8F0; }
  #adminPanel .ap-table-wrap {
    flex: 1; overflow-y: auto; padding: 0 32px 32px;
  }
  #adminPanel table {
    width: 100%; border-collapse: collapse; margin-top: 16px;
  }
  #adminPanel th {
    text-align: left; padding: 10px 16px;
    font-size: 10px; letter-spacing: 0.1em; text-transform: uppercase;
    color: #64748B; border-bottom: 1px solid #1E293B;
  }
  #adminPanel td {
    padding: 12px 16px; font-size: 14px; color: #CBD5E1;
    border-bottom: 1px solid #0F172A;
  }
  #adminPanel tr:hover td { background: #1E293B; }
  #adminPanel .ap-empty {
    text-align: center; padding: 60px; color: #475569; font-size: 14px;
  }
  #adminPanel .ap-num { color: #64748B; font-size: 12px; }
  #adminPanel .ap-email { font-weight: 500; color: #E2E8F0; }
  #adminPanel .ap-date { color: #64748B; font-size: 12px; }
`;

async function showAdmin() {
  // Inject styles
  if(!document.getElementById('adminStyles')){
    const style = document.createElement('style');
    style.id = 'adminStyles';
    style.textContent = ADMIN_STYLES;
    document.head.appendChild(style);
  }

  // Remove existing panel
  const existing = document.getElementById('adminPanel');
  if(existing) existing.remove();

  // Load signups
  let signups = [];
  try {
    const data = await window.storage.get('signups');
    signups = data ? JSON.parse(data.value) : [];
  } catch(e) { signups = []; }

  // Build panel
  const panel = document.createElement('div');
  panel.id = 'adminPanel';

  const today = signups.filter(s => {
    const d = new Date(s.date);
    const now = new Date();
    return d.toDateString() === now.toDateString();
  }).length;

  const rows = signups.length
    ? signups.slice().reverse().map((s, i) => {
        const d = new Date(s.date);
        const dateStr = d.toLocaleDateString('en-IN', { day:'2-digit', month:'short', year:'numeric' });
        const timeStr = d.toLocaleTimeString('en-IN', { hour:'2-digit', minute:'2-digit' });
        return `<tr>
          <td class="ap-num">${signups.length - i}</td>
          <td class="ap-email">${s.email}</td>
          <td class="ap-date">${dateStr} Â· ${timeStr}</td>
        </tr>`;
      }).join('')
    : `<tr><td colspan="3" class="ap-empty">No signups yet. Share the page to get started!</td></tr>`;

  panel.innerHTML = `
    <div class="ap-header">
      <div class="ap-title">Tezz<span>nirman</span> Â· Early Access Signups</div>
      <button class="ap-close" onclick="closeAdmin()">âœ• Close</button>
    </div>
    <div class="ap-stats">
      <div class="ap-stat">
        <div class="ap-stat-num">${signups.length}</div>
        <div class="ap-stat-label">Total Signups</div>
      </div>
      <div class="ap-stat">
        <div class="ap-stat-num">${today}</div>
        <div class="ap-stat-label">Today</div>
      </div>
    </div>
    <div class="ap-actions">
      <button class="ap-btn" onclick="exportCSV()">â¬‡ Export CSV</button>
      <button class="ap-btn secondary" onclick="copyEmails()">â˜ Copy All Emails</button>
    </div>
    <div class="ap-table-wrap">
      <table>
        <thead><tr><th>#</th><th>Email</th><th>Signed Up</th></tr></thead>
        <tbody>${rows}</tbody>
      </table>
    </div>
  `;

  document.body.appendChild(panel);
}

function closeAdmin() {
  const p = document.getElementById('adminPanel');
  if(p) p.remove();
  history.replaceState(null, '', window.location.pathname);
}

async function exportCSV() {
  let signups = [];
  try {
    const data = await window.storage.get('signups');
    signups = data ? JSON.parse(data.value) : [];
  } catch(e) {}
  if(!signups.length) return alert('No signups yet.');
  const csv = 'Email,Date\n' + signups.map(s =>
    `${s.email},${new Date(s.date).toLocaleString('en-IN')}`
  ).join('\n');
  const a = document.createElement('a');
  a.href = 'data:text/csv;charset=utf-8,' + encodeURIComponent(csv);
  a.download = 'tezznirman-signups.csv';
  a.click();
}

async function copyEmails() {
  let signups = [];
  try {
    const data = await window.storage.get('signups');
    signups = data ? JSON.parse(data.value) : [];
  } catch(e) {}
  if(!signups.length) return alert('No signups yet.');
  await navigator.clipboard.writeText(signups.map(s => s.email).join('\n'));
  alert(`Copied ${signups.length} email(s) to clipboard.`);
}

// Check for #admin in URL
if(window.location.hash === '#admin') showAdmin();
window.addEventListener('hashchange', () => {
  if(window.location.hash === '#admin') showAdmin();
});
</script>

</body>
</html>
